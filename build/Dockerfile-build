#  ____  _    _ _____ _      _____  
# |  _ \| |  | |_   _| |    |  __ \ 
# | |_) | |  | | | | | |    | |  | |
# |  _ <| |  | | | | | |    | |  | |
# | |_) | |__| |_| |_| |____| |__| |
# |____/ \____/|_____|______|_____/ 

FROM node:14 as build

WORKDIR /app

COPY . .

RUN yarn install
RUN yarn quasar build


#  _____  _____   ____  _____  _    _  _____ _______ _____ ____  _   _ 
# |  __ \|  __ \ / __ \|  __ \| |  | |/ ____|__   __|_   _/ __ \| \ | |
# | |__) | |__) | |  | | |  | | |  | | |       | |    | || |  | |  \| |
# |  ___/|  _  /| |  | | |  | | |  | | |       | |    | || |  | | . ` |
# | |    | | \ \| |__| | |__| | |__| | |____   | |   _| || |__| | |\  |
# |_|    |_|  \_\\____/|_____/ \____/ \_____|  |_|  |_____\____/|_| \_|

FROM nginx:1.19.1-alpine

COPY --from=build /app/dist/spa /usr/share/nginx/html/
